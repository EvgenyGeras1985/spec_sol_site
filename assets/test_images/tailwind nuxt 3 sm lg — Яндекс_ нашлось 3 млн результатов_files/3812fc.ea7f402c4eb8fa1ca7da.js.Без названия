(window.serpWebpackJsonp=window.serpWebpackJsonp||[]).push([["3812fc"],{"1AQT":function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var r={};n.r(r),n.d(r,"be",(function(){return T})),n.d(r,"en",(function(){return B})),n.d(r,"id",(function(){return I})),n.d(r,"kk",(function(){return V})),n.d(r,"ru",(function(){return S})),n.d(r,"tr",(function(){return q})),n.d(r,"tt",(function(){return L})),n.d(r,"uk",(function(){return A})),n.d(r,"uz",(function(){return G}));var i=n("4Gwv"),a=n("nAbZ"),c=n("oUqw"),o=n("cDcd"),l=n("zy2/"),s=n("gfRm"),u=n.n(s),d=function(e,t){void 0===e&&(e=!1);var n=void 0===t?{}:t,r=n.delayIn,i=void 0===r?0:r,c=n.delayOut,l=void 0===c?0:c,s=Object(o.useRef)(0),u=function(e,t){s.current=window.setTimeout(e,t)},d=function(){return clearTimeout(s.current)},f=Object(a.e)(Object(o.useState)(e),2),b=f[0],p=f[1],j=Object(o.useCallback)((function(e){d(),p(e)}),[]),h=Object(o.useCallback)((function(){return j(!0)}),[j]),m=Object(o.useCallback)((function(){return j(!1)}),[j]),g=Object(o.useCallback)((function(){d(),i>0?u(h,i):h()}),[h,i]),O=Object(o.useCallback)((function(){d(),l>0?u(m,l):m()}),[m,l]);return Object(o.useEffect)((function(){return function(){return d()}}),[]),[b,j,g,O]},f=n("UWoi"),b=n("AcvJ"),p=n("RFde"),j=n("nmoV"),h=n("ahRO"),m=n("7kGH"),g=n("bMVy"),O=n("RRkw"),v=n("vkax"),y=n("JJbA"),C=n("y+U/"),w=n("7GRH"),k=n("mdrh"),x=n("z2XP"),P=function(e){return 0===e.indexOf("image/")},R=function(e){return"text/html"===e},U=function(e){return"text/uri-list"===e},F=function(e){return"text/plain"===e},D=n("yn3j"),E=Object(D.cn)("ImagePasteButton"),M=["bottom","bottom-end","bottom-start"],N=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=n,r.readAsText(e)}))},z=n("0Wwz"),T={"Вставить из буфера":"Уставіць з буфера"},B={"Вставить из буфера":"Paste from clipboard"},I={"Вставить из буфера":"Paste from clipboard"},V={"Вставить из буфера":"Аралықтан кірістіру"},S={"Вставить из буфера":"Вставить из буфера"},q={"Вставить из буфера":"Panodan yapıştır"},L={"Вставить из буфера":"Вставить из буфера"},A={"Вставить из буфера":"Вставити з буфера"},G={"Вставить из буфера":"Vaqtinchalik xotiradan kiritish"},H=u()(r),W=Object(l.compose)(h.a,m.a,g.a)(O.a),Q=Object(l.compose)(y.a,C.a)(v.a),_=Object(i.c)({desktop:function(e){var t=e.className,n=e.altText,r=e.tooltipAvailable,i=void 0===r||r,l=e.tooltipTitle,s=e.tooltipScope,u=e.onClick,f=e.onFile,b=e.onUrl,p=e.onError,j=e.onTooltipClose,h=Object(o.useRef)(null),m=Object(a.e)(d(!1,{delayIn:200,delayOut:200}),4),g=m[0],O=m[1],v=m[2],y=m[3],C=function(e){var t=Object(w.a)(e),n=Object(a.e)(Object(o.useState)(),2),r=n[0],i=n[1];return Object(o.useEffect)((function(){var e;if(null===(e=navigator.permissions)||void 0===e?void 0:e.query){var n=!0,r=null,a=function(){n&&r&&i(r.state)};return navigator.permissions.query(t.current).then((function(e){r=e,a(),r.addEventListener("change",a)})).catch(k.a),function(){n=!1,r&&r.removeEventListener("change",a)}}}),[t]),r}({name:"clipboard-read"}),D=function(e){var t=e.onFile,n=e.onUrl,r=e.onError;return Object(o.useCallback)((function(){return Object(a.b)(void 0,void 0,void 0,(function(){var e,i,c,o,l,s,u,d,f,b;return Object(a.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,12,,13]),[4,Object(x.e)()];case 1:return e=a.sent(),[4,Object(x.d)(e,P)];case 2:return(i=a.sent())?[2,null==t?void 0:t(i)]:[4,Object(x.d)(e,R)];case 3:return(c=a.sent())?[4,N(c)]:[3,5];case 4:if(o=a.sent(),(l=Object(z.a)(o))&&(s=Object(z.b)(l)))return[2,null==n?void 0:n(s)];a.label=5;case 5:return[4,Object(x.d)(e,U)];case 6:return(u=a.sent())?[4,N(u)]:[3,8];case 7:if(d=a.sent())return[2,null==n?void 0:n(d)];a.label=8;case 8:return[4,Object(x.d)(e,F)];case 9:return(f=a.sent())?[4,N(f)]:[3,11];case 10:if(b=a.sent())return[2,null==n?void 0:n(b)];a.label=11;case 11:return[3,13];case 12:return a.sent(),[3,13];case 13:return null==r||r(),[2]}}))}))}),[t,n,r])}({onFile:f,onUrl:b,onError:p});Object(o.useEffect)((function(){i&&("granted"!==C&&"prompt"!==C||Object(x.e)().then((function(e){e.length>0&&Object(x.c)(e,P)&&v()})))}),[i,C,v]);var T=Object(o.useCallback)((function(){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return null==u||u(),O(!1),D(),[2]}))}))}),[u,O,D]),B=Object(o.useCallback)((function(e,t){O(!1),null==j||j(e,t)}),[O,j]);return x.a&&"denied"!==C?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(W,{className:E(null,[t]),view:"pseudo",size:"m",width:"auto",onClick:T,onMouseEnter:v,onMouseLeave:y,innerRef:h,children:H("Вставить из буфера")}),l&&Object(c.jsx)(Q,{className:E("Tooltip"),view:"default",size:"s",anchor:h,visible:i&&g,scope:s,direction:M,hasTail:!0,mainOffset:12,onClose:B,children:l})]}):n?Object(c.jsx)("span",{className:E("DisableHint",[t]),children:n}):null}},{file:"depot/components/ImagePasteButton/index.ts"}),K=Object(D.cn)("CbirAnimLogo"),Z=(K(),K("Shadow")),Y=K("FrontImage"),J=K("FrontImageOverflowRect"),X=K("FrontImageBackRect"),$=K("FrontImageSun"),ee=K("FrontImageSmallRock"),te=K("FrontImageBigRock"),ne=K("LeftImage"),re=K("LeftImageBackPath"),ie=K("LeftImageFrontPath"),ae=K("RightImage"),ce=K("RightImageBackPath"),oe=K("RightImageFrontPath"),le=K("ClipPathRect"),se=Object(i.c)({desktop:function(e){var t=e.active,n=e.width,r=e.height,i=e.className;return Object(c.jsxs)("svg",{width:"115",height:"56",viewBox:"0 0 115 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:K({active:t},[i]),style:{width:n,height:r},children:[Object(c.jsx)("g",{className:Z,filter:"url(#filter0_f)",children:Object(c.jsx)("ellipse",{cx:"56.4476",cy:"50",rx:"41",ry:"2",fill:"#D7D1BB",fillOpacity:"0.6"})}),Object(c.jsxs)("g",{className:ne,opacity:"0.6",children:[Object(c.jsx)("rect",{x:"1.16431",y:"14.7832",width:"40",height:"29.3333",rx:"8",fill:"#F7F8FB"}),Object(c.jsx)("ellipse",{cx:"12.5642",cy:"24.1165",rx:"3.33333",ry:"3.33333",fill:"#E3E6E8"}),Object(c.jsx)("path",{className:re,d:"M33.184 44.1165L7.15301 44.1165C3.8455 44.1165 1.16424 41.4352 1.16424 38.1277L7.13882 32.9341C8.75139 31.5323 11.0765 31.3101 12.9254 32.3811L33.184 44.1165Z",fill:"#CED5DB",fillOpacity:"0.4"}),Object(c.jsx)("path",{className:ie,d:"M41.1642 33.6686L41.1642 36.1165C41.1642 40.5348 37.5825 44.1165 33.1642 44.1165L7.34912 44.1165L24.7394 27.9193C26.3806 26.3906 28.839 26.1419 30.7531 27.3108L41.1642 33.6686Z",fill:"#E3E6E8"})]}),Object(c.jsxs)("g",{className:ae,opacity:"0.6",children:[Object(c.jsx)("rect",{x:"72.9703",y:"14.8699",width:"40",height:"29.3333",rx:"8",fill:"#F7F8FB"}),Object(c.jsx)("ellipse",{cx:"84.3701",cy:"24.2032",rx:"3.33333",ry:"3.33333",fill:"#E3E6E8"}),Object(c.jsx)("path",{className:ce,d:"M104.99 44.2031L78.959 44.2031C75.6515 44.2031 72.9703 41.5219 72.9703 38.2144L78.9449 33.0208C80.5575 31.619 82.8826 31.3968 84.7315 32.4678L104.99 44.2031Z",fill:"#CED5DB",fillOpacity:"0.4"}),Object(c.jsx)("path",{className:oe,d:"M112.97 33.7552L112.97 36.2031C112.97 40.6214 109.389 44.2031 104.97 44.2031L79.1551 44.2031L96.5454 28.0058C98.1867 26.4772 100.645 26.2285 102.559 27.3974L112.97 33.7552Z",fill:"#E3E6E8"})]}),Object(c.jsxs)("g",{className:Y,clipPath:"url(#clip2)",children:[Object(c.jsx)("rect",{className:J,x:"27.4476",width:"60",height:"44",rx:"8",fill:"white"}),Object(c.jsx)("rect",{className:X,x:"27.4476",width:"60",height:"44",rx:"8",fill:"#F7F8FB"}),Object(c.jsx)("circle",{className:$,cx:"44.5474",cy:"14",r:"5",fill:"#FFDC61"}),Object(c.jsx)("path",{className:ee,d:"M75.4775 44H27.4476V35.0168L37.7574 26.0546C39.37 24.6528 41.6951 24.4307 43.5439 25.5017L75.4775 44Z",fill:"#FFDC61",fillOpacity:"0.4"}),Object(c.jsx)("path",{className:te,d:"M87.4477 28.3282V44.0001H36.7249L64.1984 18.4113C65.8396 16.8827 68.2979 16.634 70.2121 17.8029L87.4477 28.3282Z",fill:"#FFDC61"})]}),Object(c.jsxs)("defs",{children:[Object(c.jsxs)("filter",{id:"filter0_f",x:"11.4476",y:"44",width:"90",height:"12",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(c.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(c.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),Object(c.jsx)("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur"})]}),Object(c.jsx)("clipPath",{id:"clip2",children:Object(c.jsx)("rect",{className:le,x:"27.4476",width:"60",height:"44",rx:"8",fill:"white"})})]})]})}},{file:"depot/components/CbirAnimLogo/index.ts"}),ue=n("PKnz"),de=Object(D.cn)("CbirPanelFileControls"),fe=de(),be=(de("Background"),de("Content")),pe=de("Logo"),je=de("Title"),he=de("Subtitle"),me=de("Buttons"),ge=de("Button"),Oe=u()(ue),ve=Object(l.compose)(b.a,p.a,j.a)(f.a),ye=Object(i.c)({desktop:function(e){var t=e.isMacOS,n=e.droppable,r=e.pasteAvailable,i=e.onClick,l=e.onSelectButtonClick,s=e.onPasteButtonClick,u=e.onPasteFile,f=e.onPasteUrl,b=e.onPasteError,p=e.onPasteTooltipClose,j=Object(o.useRef)(null),h=Object(a.e)(d(!1),4),m=h[0],g=h[2],O=h[3],v=Object(o.useMemo)((function(){return Oe(t?"Нажмите Cmd+V":"Нажмите Ctrl+V")}),[t]);return Object(c.jsxs)("div",{className:fe,onMouseEnter:g,onMouseLeave:O,children:[Object(c.jsx)("div",{className:de("Background",{active:m||n}),onClick:i}),Object(c.jsxs)("div",{className:be,ref:j,children:[Object(c.jsx)(se,{className:pe,active:m||n}),Object(c.jsx)("div",{className:je,children:Oe("Перетащите изображение сюда")}),Object(c.jsx)("div",{className:he,children:Oe("или нажмите на кнопку")}),Object(c.jsxs)("div",{className:me,children:[Object(c.jsx)(ve,{className:ge,size:"m",view:"action",width:"auto",onClick:l,children:Oe("Выбрать файл")}),Object(c.jsx)(_,{className:ge,tooltipAvailable:r,tooltipTitle:v,tooltipScope:j,onTooltipClose:p,onClick:s,onFile:u,onUrl:f,onError:b})]})]})]})}},{file:"depot/components/CbirPanelFileControls/index.ts"})},"3IDl":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n("4Gwv"),i=n("nAbZ"),a=n("oUqw"),c=n("cDcd"),o=n("4ejW"),l=n("zy2/"),s=n("gfRm"),u=n.n(s),d=n("jRZ/"),f=n("Wq4b"),b=(n("PBAA"),n("QHy8")),p=n("WZys"),j=n("q2WH"),h=n("PKnz"),m=n("kKNf"),g=n("0UmB"),O=n("JExj"),v=n("yn3j"),y=Object(v.cn)("CbirPanelFullscreenDrop"),C=(y(),y("Overlay")),w=y("Content"),k=y("Logo"),x=y("Title"),P=y("Area"),R=y("Closer"),U=u()(h),F=Object(j.a)(p.a),D=function(e){var t=e.onDropFile,n=e.onDropUrl,r=e.onDrop,l=e.onCloseRequest,s=e.dropAreaRef;Object(f.a)({ref:s,enabled:!0,fullscreen:!0}),Object(o.a)("Escape",l,{target:document.documentElement});var u=Object(i.e)(Object(d.a)(!1),2),p=u[0],j=u[1],h=Object(c.useMemo)((function(){return Object(b.a)(j,1e3)}),[j]);return Object(c.useEffect)((function(){return h(),function(){h.cancel()}}),[h]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:w,children:[Object(a.jsx)("div",{className:k}),Object(a.jsx)("div",{className:x,children:U("Перетащите изображение сюда")})]}),p&&Object(a.jsx)(F,{className:R,type:"close16Black",size:"m"}),Object(a.jsx)(m.a,{className:P,ref:s,onDropFile:t,onDropUrl:n,onDrop:r,onDragOver:h,onDragEnter:h,onClick:l})]})},E=Object(l.compose)(O.a)(g.a),M=Object(r.c)({desktop:function(e){var t=e.visible,n=e.scope,r=e.onDropFile,i=e.onDropUrl,c=e.onDrop,o=e.onCloseRequest,l=e.dropAreaRef;return Object(a.jsx)(E,{className:C,opened:t,paranja:"translucent",scope:n,scrollTarget:l,children:Object(a.jsx)(D,{onDropFile:r,onDropUrl:i,onDrop:c,onCloseRequest:o,dropAreaRef:l})})}},{file:"depot/components/CbirPanelFullscreenDrop/index.ts"})},"4fze":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r={};n.r(r),n.d(r,"be",(function(){return g})),n.d(r,"en",(function(){return O})),n.d(r,"id",(function(){return v})),n.d(r,"kk",(function(){return y})),n.d(r,"ru",(function(){return C})),n.d(r,"tr",(function(){return w})),n.d(r,"tt",(function(){return k})),n.d(r,"uk",(function(){return x})),n.d(r,"uz",(function(){return P}));var i=n("4Gwv"),a=n("oUqw"),c=n("1SUg"),o=n("cDcd"),l=n("zy2/"),s=n("gfRm"),u=n.n(s),d=n("UWoi"),f=n("XN7w"),b=n("WZys"),p=n("8VqI"),j=Object(l.createClassNameModifier)(Object(p.b)(),{type:"errorFilled24"}),h=Object(i.g)({desktop:j}),m=n("yg24"),g={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Максімальны памер — {size} МБ. Паспрабуйце загрузіць іншую выяву","Не нашли изображение по указанному адресу":"Не знайшлі выяву па пазначым адрасе","Не удалось вставить картинку из буфера":"Не атрымалася ўставіць малюнак з буфера","Неправильный формат":"Няправільны фармат","Попробуйте ввести другой адрес":"Паспрабуйце ўвесці іншы адрас","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Паспрабуйце загрузіць выявву ў фармаце png, jpg, gif і інш.","Файл слишком большой":"Файл занадта вялікі","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Каб загрузіць выяву, выберыце файл або перацягніце яго сюды"},O={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Maximum size: {size} MB. Try uploading a different image","Не нашли изображение по указанному адресу":"Couldn't find image at the specified address","Не удалось вставить картинку из буфера":"Couldn't paste image from clipboard","Неправильный формат":"Incorrect format","Попробуйте ввести другой адрес":"Try entering a different address","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Try uploading an image in PNG, JPG, GIF, or another format.","Файл слишком большой":"The file is too large","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"To upload an image, select a file or drag it here"},v={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Maximum size: {size} MB. Try uploading a different image","Не нашли изображение по указанному адресу":"Couldn't find image at the specified address","Не удалось вставить картинку из буфера":"Couldn't paste image from clipboard","Неправильный формат":"Incorrect format","Попробуйте ввести другой адрес":"Try entering a different address","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Try uploading an image in PNG, JPG, GIF, or another format.","Файл слишком большой":"The file is too large","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"To upload an image, select a file or drag it here"},y={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Ең үлкен мөлшері — {size}  МБ. Басқа суретті жүктеп көріңіз","Не нашли изображение по указанному адресу":"Көрсетілген мекенжай бойынша сурет табылған жоқ","Не удалось вставить картинку из буфера":"Аралықтағы суретті енгізу мүмкін емес","Неправильный формат":"Қате пішім","Попробуйте ввести другой адрес":"Басқа мекенжайды енгізіп көріңіз","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Суретті png, jpg, gif және т. б. пішімде жүктеп көріңіз.","Файл слишком большой":"Файл тым үлкен","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Суретті жүктеу үшін файлды таңдаңыз немесе оны осында сүйреңіз"},C={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение","Не нашли изображение по указанному адресу":"Не нашли изображение по указанному адресу","Не удалось вставить картинку из буфера":"Не удалось вставить картинку из буфера","Неправильный формат":"Неправильный формат","Попробуйте ввести другой адрес":"Попробуйте ввести другой адрес","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Попробуйте загрузить изображение в формате png, jpg, gif и др.","Файл слишком большой":"Файл слишком большой","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Чтобы загрузить изображение, выберите файл или перетащите его сюда"},w={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Görsel boyutu en fazla {size} MB olabilir. Başka bir görsel yüklemeyi deneyin","Не нашли изображение по указанному адресу":"Belirtilen adreste görsel bulunamadı","Не удалось вставить картинку из буфера":"Panodan görsel yapıştırılamadı","Неправильный формат":"Yanlış format","Попробуйте ввести другой адрес":"Başka bir adres girmeyi deneyin","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Görseli png, jpg, gif vb. formatlarda yüklemeyi deneyin.","Файл слишком большой":"Dosya çok büyük","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Görseli yüklemek için dosyayı seçin veya buraya sürükleyin"},k={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение","Не нашли изображение по указанному адресу":"Не нашли изображение по указанному адресу","Не удалось вставить картинку из буфера":"Не удалось вставить картинку из буфера","Неправильный формат":"Неправильный формат","Попробуйте ввести другой адрес":"Попробуйте ввести другой адрес","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Попробуйте загрузить изображение в формате png, jpg, gif и др.","Файл слишком большой":"Файл слишком большой","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Чтобы загрузить изображение, выберите файл или перетащите его сюда"},x={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Максимальний розмір — {size} МБ. Спробуйте завантажити інше зображення","Не нашли изображение по указанному адресу":"Не знайшли зображення за вказаною адресою","Не удалось вставить картинку из буфера":"Не вдалося вставити зображення з буфера","Неправильный формат":"Неправильний формат","Попробуйте ввести другой адрес":"Спробуйте ввести іншу адресу","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Спробуйте завантажити зображення у форматі png, jpg, gif тощо","Файл слишком большой":"Файл занадто великий","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Щоб завантажити зображення, виберіть файл або перетягніть його сюди"},P={"Закрыть уведомление об ошибке":"Закрыть уведомление об ошибке","Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение":"Maksimal hajmi — {size} MB. Boshqa rasmni yuklashga harakat qiling","Не нашли изображение по указанному адресу":"Berilgan manzilda rasm topilmadi","Не удалось вставить картинку из буфера":"Vaqtinchalik xotiradagi rasm joylanmadi","Неправильный формат":"Formati xato","Попробуйте ввести другой адрес":"Boshqa manzilni kiriting","Попробуйте загрузить изображение в формате png, jpg, gif и др.":"Rasmni png, jpg, gif va boshqa formatlarda yuklang","Файл слишком большой":"Fayl haddan ziyod katta","Чтобы загрузить изображение, выберите файл или перетащите его сюда":"Rasmni yuklab olish uchun faylni tanlang yoki uni tortib shu yerga tashlang"},R=n("yn3j"),U=Object(R.cn)("CbirUploadErrorNotify"),F=(U(),U("IconError")),D=U("IconCloser"),E=U("Message"),M=U("Title"),N=U("Description"),z=U("Closer"),T=u()(r),B=u()(r),I=Object(f.a)(d.a),V=Object(l.composeU)(m.a,h)(b.a),S=Object(i.c)({desktop:function(e){var t=e.type,n=e.maxFileSizeMB,r=void 0===n?20:n,i=e.className,c=e.onCloserClick,l=function(e){switch(e){case"format":return T("Неправильный формат");case"size":return T("Файл слишком большой");case"url":return T("Не нашли изображение по указанному адресу");case"clipboard":return T("Не удалось вставить картинку из буфера")}}(t),s=function(e,t){switch(e){case"format":return T("Попробуйте загрузить изображение в формате png, jpg, gif и др.");case"size":return T("Максимальный размер — {size} МБ. Попробуйте загрузить другое изображение",{size:t});case"url":return T("Попробуйте ввести другой адрес");case"clipboard":return T("Чтобы загрузить изображение, выберите файл или перетащите его сюда")}}(t,r),u=Object(o.useCallback)((function(e){e.preventDefault(),c()}),[c]);return Object(a.jsxs)("div",{className:U(null,[i]),children:[Object(a.jsx)(V,{className:F,type:"errorFilled24",size:"l"}),Object(a.jsxs)("div",{className:E,children:[Object(a.jsx)("div",{className:M,children:l}),Object(a.jsx)("div",{className:N,role:"alertdialog","aria-live":"assertive",children:s})]}),Object(a.jsx)(I,{className:z,view:"clear",role:"button","aria-label":B("Закрыть уведомление об ошибке"),onClick:u,children:Object(a.jsx)(V,{className:D,type:"close16Black",size:"m"})})]})}},{file:"depot/components/CbirUploadErrorNotify/index.ts"}),q=Object(R.cn)("CbirPanelErrorNotify")(),L=Object(i.c)({desktop:function(e){var t=e.visible,n=e.type,r=e.onClose;return Object(a.jsx)(c.a,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:100,classNames:q,children:Object(a.jsx)(S,{className:q,type:n,onCloserClick:r})})}},{file:"depot/components/CbirPanelErrorNotify/index.ts"})},"7ezq":function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n("nAbZ"),i=n("cDcd"),a=n("7GRH"),c=n("m2ke"),o=n("Wq4b"),l=n("EmqN"),s={downscaleWidth:1680,downscaleHeight:1680,downscaleQuality:1},u=n("Mj+e"),d=n("1fsb"),f=n("Yc9p"),b=function(e){window.location.assign(e)},p=function(e){if(window.top)try{return void(window.top.location.href=e.redirectUrl)}catch(t){}b(e.redirectUrl)},j=n("u69s"),h=function(e,t){if(t){var n=Object(j.appendQueryString)(e,t);if(window.top)try{return void(window.top.location.href=n)}catch(r){}b(n)}},m=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},g=function(e,t,n){return e.width>t&&e.height>n},O=function(){function e(e){this.offset=0,this.littleEndian=!1,this.view=new DataView(e)}return e.prototype.skip=function(e){this.offset+=e},e.prototype.nextUint16=function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.skip(2),e},e.prototype.nextUint32=function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.skip(4),e},e.prototype.setLittleEndian=function(e){this.littleEndian=e},e.prototype.isFinished=function(){return this.offset>=this.view.byteLength},e}(),v=function(e){return 65280==(65280&e)},y=1,C=3,w=6,k=8,x=9,P=function(e){return"from-image"===window.getComputedStyle(document.body).imageOrientation?Promise.resolve(y):function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))}(e).then((function(e){var t,n,r=new O(e);if(65496!==r.nextUint16())return x;for(;!r.isFinished()&&(t=r.nextUint16(),v(t)&&65498!==t&&65497!==t);)if(65505===t){r.skip(2),r.skip(6),r.setLittleEndian(18761===r.nextUint16()),r.skip(2),r.skip(r.nextUint32()-8),n=r.nextUint16();for(var i=0;i<n;i++){if(274===r.nextUint16())return r.skip(6),r.nextUint16();r.skip(10)}}else r.setLittleEndian(!1),r.skip(r.nextUint16()-2);return x}))},R=function(e,t,n){void 0!==n&&(e[t]=n)},U=function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);return function(e,t){var n=void 0===t?{}:t,r=n.crossOrigin,i=n.referrerPolicy;return new Promise((function(t,n){var a=new Image;R(a,"crossOrigin",r),R(a,"referrerPolicy",i),R(a,"onload",(function(){return t(a)})),R(a,"onerror",(function(){return n(new Error("Image loading failed"))})),R(a,"src",e)}))}(n).then((function(e){return t.revokeObjectURL(n),e})).catch((function(e){return t.revokeObjectURL(n),Promise.reject(e)}))},F=function(e,t){var n,r,i,a,c,o,l,s=function(e,t){return t===k||t===w?{width:e.height,height:e.width}:{width:e.width,height:e.height}}(e,t),u=(r=5e6,i=4096,a=(n=s).width/n.height,c=0,o=0,l={width:0,height:0},n.width*n.height>r?n.width>n.height?(c=Math.sqrt(r*a),l={width:Math.floor(c),height:Math.floor(r/c)}):(o=Math.sqrt(r/a),l={width:Math.floor(r/o),height:Math.floor(o)}):l=n,l.width>i&&(l.width=i,l.height=Math.round(l.width/a)),l.height>i&&(l.height=i,l.width=Math.round(a*l.height)),l),d=m(u.width,u.height),f=d.getContext("2d");if(!f)throw new Error("Cannot get a canvas context");return t===k?(f.setTransform(0,-1,1,0,0,u.height),f.drawImage(e,0,0,u.height,u.width)):t===w?(f.setTransform(0,1,-1,0,u.width,0),f.drawImage(e,0,0,u.height,u.width)):t===C?(f.setTransform(-1,0,0,-1,u.width,u.height),f.drawImage(e,0,0,u.width,u.height)):(f.setTransform(1,0,0,1,0,0),f.drawImage(e,0,0,u.width,u.height)),d},D=function(e,t,n,i,a){return void 0===i&&(i=e.type),void 0===a&&(a=1),function(e){return Promise.all([U(e),P(e)]).then((function(e){var t=Object(r.e)(e,2),n=t[0],i=t[1];return F(n,i)}))}(e).then((function(e){return function(e,t,n){var r=e.width/e.height;if(n<t?n=Math.round(t/r):t=Math.round(n*r),!g(e,t,n))return Promise.resolve(e);var i=Math.ceil(Math.log(e.width/t)/Math.LN2),a=t*Math.pow(2,i-1),c=n*Math.pow(2,i-1),o=function(r,l){var s=m(a,c),u=s.getContext("2d");return u?(u.drawImage(e,0,0,a,c),e.width=1,e.height=1,e=s,i-=1,a=Math.round(a/2),c=Math.round(c/2),i<=0||!g(e,t,n)?r(e):void requestAnimationFrame((function(){return o(r,l)}))):l(new Error("Cannot get a canvas context"))};return new Promise(o)}(e,t,n)})).then((function(e){return function(e,t,n){return void 0===n&&(n=1),new Promise((function(r,i){try{e.toBlob((function(e){return e?r(e):i(new Error("Resulting Blob is empty"))}),t,n)}catch(a){i(a)}}))}(e,i,a)}))},E=function(e,t){return void 0===e&&(e=window.location.origin),void 0===t&&(t={}),Object(j.appendQueryString)("".concat(e,"/images-apphost/image-download"),Object(r.a)(Object(r.a)({},t),{images_avatars_size:"preview",images_avatars_namespace:"images-cbir"}))},M=function(e){if(e.status<200||e.status>=300)throw new Error("Image upload failed, status code ".concat(e.status));return e.json()},N=function(e){var t=e.platform,n=e.origin,r=void 0===n?window.location.origin:n,i=e.page,a=e.originalImageUrl,c=e.cbirId,o=e.errorType,l={rpt:"imageview"};return i&&(l.cbir_page=i),a&&(l.url=a),c&&(l.cbir_id=c),o&&(l.cbir_error=o),Object(j.appendQueryString)("".concat(r).concat(function(e){switch(e){case"touch-phone":return"/images/touch/search";case"touch-pad":return"/images/pad/search";case"desktop":return"/images/search"}}(t)),l)},z=function(e,t){var n=t.errorType,r=t.withRedirect,i=void 0!==r&&r,a=t.platform,c=void 0===a?"desktop":a,o=t.origin,l=t.page,s={type:"error",errorType:n,originalError:e,redirectUrl:N({platform:c,origin:o,page:l,errorType:n})};return i&&b(s.redirectUrl),s},T=function(e,t){var n=t.withRedirect,r=void 0!==n&&n,i=t.platform,a=void 0===i?"desktop":i,c=t.origin,o=t.page;if(function(e){return"type"in e&&"captcha"===e.type}(e)){var l={type:"captcha",redirectUrl:e.captcha["captcha-page"]};return r&&b(l.redirectUrl),l}var s=e.url.replace(/\/preview$/,"/orig"),u=function(e){return"".concat(e.image_shard,"/").concat(e.image_id)}(e),d={type:"success",cbirId:u,originalImageUrl:s,redirectUrl:N({originalImageUrl:s,cbirId:u,platform:a,origin:c,page:o})};return r&&b(d.redirectUrl),d},B=function(e,t){var n=t.cbird,i=t.downscaleWidth,a=t.downscaleHeight,c=t.downscaleQuality,o=void 0===c?1:c,l=t.withRedirect,s=t.platform,u=t.origin,d=t.page,f=function(e){return function(e,t,n){return fetch(E(n,{cbird:t}),{method:"POST",body:e}).then((function(e){return M(e)}))}(e,n,u).then((function(t){var n=T(t,{withRedirect:l,platform:s,origin:u,page:d});return"success"===n.type?Object(r.a)(Object(r.a)({},n),{downscaledFile:e}):n})).catch((function(e){return z(e,{errorType:"request",withRedirect:l,platform:s,origin:u,page:d})}))};return D(e,i,a,"image/jpeg",o).then((function(e){return f(e)})).catch((function(e){return z(e,{errorType:"format",withRedirect:l,platform:s,origin:u,page:d})}))},I=(n("PBAA"),n("DhPe")),V=function(e,t){var n=t.origin,i=void 0===n?window.location.origin:n,a=t.path,c=t.params,o=void 0===c?{}:c;return Object(j.appendQueryString)("".concat(i).concat(a),Object(r.a)(Object(r.a)({},o),{url:e}))},S=function(e,t){var n=t.cbird,r=t.withRedirect,i=t.captchaRetpathParams,a=t.platform,c=t.origin,o=t.page;return function(e,t,n,r){var i=E(n,{url:e,cbird:t}),a={method:"GET"};return r&&(a.headers={"X-Retpath-Y":V(e,r),"X-Requested-With":"XMLHttpRequest"}),fetch(i,a).then((function(e){return M(e)}))}(e,n,c,i).then((function(e){return T(e,{withRedirect:r,platform:a,origin:c,page:o})})).catch((function(e){return z(e,{errorType:"request",withRedirect:r,platform:a,origin:c,page:o})}))},q=function(e){var t=e.platform,n=e.cbird,b=e.label,j=e.infoUrl,m=e.globalDragEventsParams,g=e.isMacOS,O=e.onOpenPopup,v=e.onClosePopup,y=e.headerRef,C=e.fileInputRef,w=e.buttonRef,k=e.popupRef,x=e.bodyRef,P=e.urlFormRef,R=e.dropAreaRef,U=e.fullscreenDropAreaRef,F=e.imageSearchOrigin,D=e.isMultimodal,E=Object(i.useRef)(!1),M=Object(r.e)(Object(c.a)(),2),N=M[0],z=N.popupVisible,T=N.loading,V=N.loadingFile,q=N.notifyVisible,L=N.notifyType,A=N.urlFormValue,G=N.urlFormInvalid,H=N.fullscreenDropVisible,W=N.dragging,Q=N.dropAreaOver,_=N.multimodalData,K=N.multimodalQueryValue,Z=M[1];Object(i.useEffect)((function(){H&&Z({type:"global-drag-start"})}),[H,Z]);var Y,J,X,$,ee,te,ne,re,ie,ae=(Y=Object(i.useRef)(),J=Object(i.useCallback)((function(e){var t="".concat(e,"_").concat(Date.now(),"_").concat(Math.random());return Y.current=t,t}),[]),X=Object(i.useCallback)((function(e){Y.current=e}),[]),$=Object(i.useCallback)((function(e){return Y.current===e}),[]),ee=Object(i.useCallback)((function(){Y.current=void 0}),[]),Object(i.useMemo)((function(){return{create:J,set:X,validate:$,reset:ee}}),[J,X,$,ee])),ce=Object(a.a)(z),oe=Object(a.a)(H),le=Object(a.a)(A),se=Object(i.useCallback)((function(){var e;null===(e=C.current)||void 0===e||e.click()}),[C]),ue=Object(i.useCallback)((function(e){var t,n;e?null===(t=P.current)||void 0===t||t.focus():null===(n=P.current)||void 0===n||n.blur()}),[P]),de=Object(i.useCallback)((function(){oe.current&&Z({type:"fullscreen-drop-hide"})}),[Z,oe]),fe=Object(i.useCallback)((function(e){ce.current&&(null==v||v(),Z({type:"popup-hide",options:e}),ae.reset())}),[Z,v,ce,ae]),be=Object(i.useCallback)((function(){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(e){return fe({saveMultimodalQuery:!0}),oe.current||Z({type:"fullscreen-drop-show"}),[2]}))}))}),[Z,oe,fe]),pe=Object(i.useCallback)((function(e){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){return de(),ce.current||(null==O||O(),Z({type:"popup-show"}),requestAnimationFrame((function(){ue(e)}))),[2]}))}))}),[Z,O,ce,ue,de]),je=Object(i.useCallback)((function(e){return void 0===e&&(e=!ce.current),Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return e?[4,pe(!0)]:[3,2];case 1:return t.sent(),[3,3];case 2:fe(),t.label=3;case 3:return[2]}}))}))}),[ce,pe,fe]),he=Object(i.useCallback)((function(){je()}),[je]),me=Object(i.useCallback)((function(e){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,pe(!1)];case 1:return t.sent(),Z({type:"search-by-image-start",payload:e}),[2]}}))}))}),[Z,pe]),ge=Object(i.useCallback)((function(){de(),D||fe()}),[de,fe,D]),Oe=Object(i.useCallback)((function(e){Z({type:"multimodal-load",payload:e})}),[Z]),ve=Object(i.useCallback)((function(e){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,pe("url"===e.searchType)];case 1:return t.sent(),Z({type:"search-by-image-error",payload:e}),[2]}}))}))}),[Z,pe]),ye=Object(i.useMemo)((function(){return function(e){var t=e.platform,n=e.cbird,i=void 0===n?111:n,a=e.isYandexSearchApp,c=e.isMultimodal,o=e.downscale,l=e.searchUniqKey,s=e.onStart,u=e.onSuccess,d=e.onMultimodalSuccess,f=e.onError,b=e.origin,j=o.downscaleWidth,m=o.downscaleHeight,g=o.downscaleQuality,O=l.create,v=l.validate,y=l.reset,C=l.set;return function(e){return Object(r.b)(void 0,void 0,Promise,(function(){var n,o,l,w,k;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=O("file"),o=Date.now(),r.label=1;case 1:return r.trys.push([1,4,,6]),C(n),[4,null==s?void 0:s({searchType:"file",file:e,searchUniqKey:n})];case 2:return r.sent(),[4,B(e,{platform:t,cbird:i,downscaleWidth:j,downscaleHeight:m,downscaleQuality:g,origin:b})];case 3:if(l=r.sent(),!v(n))return[2];if("captcha"===l.type)return[2,p(l)];if("error"===l.type)throw Error(l.errorType);return y(),null==u||u(),"success"===l.type?(w={rpt:"imageview",cbir_id:l.cbirId,cbird:"".concat(i)},a&&(w.service="cbir.yandex"),c?(null==d||d({preview:l.originalImageUrl,searchUrl:l.redirectUrl,queryParams:w}),[2]):(h(l.redirectUrl,w),[2])):[3,6];case 4:return k=r.sent(),y(),[4,null==f?void 0:f({searchType:"file",error:k,file:e,time:Date.now()-o,searchUniqKey:n})];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}}({platform:t,cbird:n,downscale:s,searchUniqKey:ae,onStart:me,onSuccess:ge,onError:ve,origin:F,isMultimodal:D,onMultimodalSuccess:Oe})}),[t,n,ae,me,ge,ve,F,D,Oe]),Ce=Object(i.useCallback)((function(e){ye(e)}),[ye]);te=Ce,ne=k,re=Object(i.useCallback)((function(e){var t=e.clipboardData;if(t){var n=Object(d.a)(t);n&&(e.preventDefault(),te(n))}}),[te]),ie=(null==ne?void 0:ne.current)?ne.current:null,Object(u.a)("paste",re,ie);var we=function(e){var t=e.platform,n=e.cbird,a=void 0===n?111:n,c=e.searchUniqKey,o=e.origin,l=e.processCaptchaResult,s=e.processSearchByImageResults,u=e.onStart,d=e.onSuccess,f=e.onError,b=e.isMultimodal,p=e.onMultimodalSuccess,j=c.create,h=c.validate,m=c.reset,g=c.set,O=Object(i.useMemo)((function(){return{path:window.location.search,params:{}}}),[]),v=Object(i.useCallback)((function(e){return Object(r.b)(void 0,void 0,void 0,(function(){var n,i,c,v,y,C;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=Object(I.a)(e),i=Date.now(),c=j("url"),r.label=1;case 1:return r.trys.push([1,4,,6]),g(c),[4,null==u?void 0:u({searchType:"url",url:n,searchUniqKey:c})];case 2:return r.sent(),[4,S(n,{platform:t,cbird:a,captchaRetpathParams:O,origin:o})];case 3:if(v=r.sent(),!h(c))return[2];if("captcha"===v.type)return[2,l(v)];if("error"===v.type)throw Error(v.errorType);return m(),null==d||d(),"success"===v.type?(y={cbir_id:v.cbirId,cbird:"".concat(a)},b?(null==p||p({preview:v.originalImageUrl,searchUrl:v.redirectUrl,queryParams:y}),[2]):(s(v.redirectUrl,y),[2])):[3,6];case 4:return C=r.sent(),m(),[4,null==f?void 0:f({searchType:"url",error:C,url:n,time:Date.now()-i,searchUniqKey:c})];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}),[t,a,o,j,g,u,O,h,m,l,s,d,f,b,p]);return v}({platform:t,cbird:n,searchUniqKey:ae,onStart:me,onSuccess:ge,onError:ve,processCaptchaResult:p,processSearchByImageResults:h,origin:F,isMultimodal:D,onMultimodalSuccess:Oe}),ke=Object(i.useCallback)((function(e){we(e)}),[we]),xe=Object(i.useCallback)((function(e){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return E.current=!e&&!ce.current,e?[4,be()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,pe(!1)];case 3:t.sent(),t.label=4;case 4:return Z({type:"global-drag-start"}),[2]}}))}))}),[Z,ce,pe,be]),Pe=Object(i.useCallback)((function(){E.current&&fe(),de(),E.current=!1,Z({type:"global-drag-end"})}),[Z,fe,de]),Re=Object(r.e)(Object(f.a)(xe,Pe,m),2),Ue=Re[0],Fe=Re[1];Object(o.a)({ref:R,enabled:W,fullscreen:!1,registerCb:Ue,unRegisterCb:Fe}),Object(o.a)({ref:U,enabled:!0,fullscreen:!0,registerCb:Ue,unRegisterCb:Fe});var De=Object(i.useCallback)((function(){Z({type:"drop-area-enter"})}),[Z]),Ee=Object(i.useCallback)((function(){Z({type:"drop-area-leave"})}),[Z]),Me=Object(i.useCallback)((function(){E.current=!1}),[]),Ne=Object(i.useCallback)((function(){Z({type:"notify-show",payload:{notifyType:"clipboard"}})}),[Z]),ze=Object(i.useCallback)((function(e,t){var n,r,i=e.target;"esc"!==t&&("click"!==t||(null===(n=k.current)||void 0===n?void 0:n.contains(i))||(null===(r=w.current)||void 0===r?void 0:r.contains(i)))||fe()}),[w,k,fe]),Te=Object(i.useCallback)((function(e){Z({type:"url-form-change",payload:{value:e}})}),[Z]),Be=Object(i.useCallback)((function(){var e=Object(l.g)(le.current);ke(e)}),[ke,le]),Ie=Object(i.useCallback)((function(){Z({type:"notify-hide"})}),[Z]),Ve=Object(i.useCallback)((function(){return Z({type:"multimodal-reset"})}),[Z]),Se=Object(i.useCallback)((function(e){Z({type:"multimodal-query-change",payload:{value:e}})}),[Z]);return{fileInputProps:Object(i.useMemo)((function(){return{onSelect:Ce,ref:C}}),[C,Ce]),cbirButtonProps:Object(i.useMemo)((function(){return{cbirButtonRef:w,name:"cbir",label:b,handler:he}}),[b,w,he]),cbirPanelFullscreenDropProps:Object(i.useMemo)((function(){return{visible:H,onDropFile:Ce,onDropUrl:ke,onDrop:Me,onCloseRequest:de,dropAreaRef:U}}),[U,de,H,Me,Ce,ke]),cbirPanelPopupProps:Object(i.useMemo)((function(){return{visible:z,anchor:w,scope:y?y.current:null,onClose:fe,innerRef:k,bodyRef:x}}),[y,w,k,x,z,fe]),cbirPanelPreloaderProps:Object(i.useMemo)((function(){return{visible:T}}),[T]),cbirPanelHeadProps:Object(i.useMemo)((function(){return{loading:T,infoUrl:j,onCloserClick:fe}}),[j,T,fe]),cbirPanelFileControlsProps:Object(i.useMemo)((function(){return{isMacOS:g,droppable:Q,loading:T,loadingFile:V,urlFormValue:A,pasteAvailable:z&&!T&&!W,onClick:se,onSelectButtonClick:se,onPasteUrl:ke,onPasteFile:Ce,onPasteError:Ne,onPasteTooltipClose:ze}}),[W,Q,se,Ne,ze,Ce,ke,g,T,V,A,z]),cbirPanelUrlFormProps:Object(i.useMemo)((function(){return{ref:P,value:A,onChange:Te,onSubmit:Be,onCancel:fe,invalid:G,loading:T,loadingFile:V}}),[P,Te,Be,fe,G,A,T,V]),cbirPanelDropAreaProps:Object(i.useMemo)((function(){return W?{ref:R,onDropUrl:ke,onDragEnter:De,onDragLeave:Ee,onDrop:Me,onDropFile:Ce}:void 0}),[R,W,Me,De,Ee,ke,Ce]),cbirPanelErrorNotifyProps:Object(i.useMemo)((function(){return{visible:q,type:L,onClose:Ie}}),[Ie,L,q]),cbirPanelMultimodalPreviewProps:Object(i.useMemo)((function(){return _?{imageUrl:_.preview,onDeleteClick:Ve,onLoadOtherClick:se}:void 0}),[_,Ve,se]),cbirPanelMultimodalQueryProps:Object(i.useMemo)((function(){return{loading:T,data:_,onCancel:fe,onChange:Se,query:K||""}}),[_,T,fe,K,Se]),openPopup:pe,closePopup:fe,togglePopup:je}}},"9Qef":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("nAbZ"),i=n("cDcd"),a=n("arj1"),c=n("Z90u"),o=n("uO80"),l=function(e){var t=Object(r.e)(Object(i.useState)(null),2),n=t[0],l=t[1],s=Object(i.useCallback)((function(){return l(document.querySelector(e))}),[e]);return Object(a.a)(s),Object(c.a)(s,[e]),Object(o.a)((function(){return l(null)})),n}},Gb8c:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("4Gwv"),i=n("oUqw"),a=n("zy2/"),c=n("4hSE"),o=n("YH9l"),l=n("YwvN"),s=n("3Tvw"),u=n("yn3j"),d=Object(u.cn)("CbirPanelPreloader")(),f=Object(a.compose)(s.a,o.a,l.a)(c.a),b=Object(r.c)({desktop:function(e){return e.visible?Object(i.jsx)("div",{className:d,children:Object(i.jsx)(f,{view:"default",size:"m",progress:!0,position:"center"})}):null}},{file:"depot/components/CbirPanelPreloader/index.ts"})},JkEl:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n("4Gwv"),i=n("oUqw"),a=n("cDcd"),c=n("zy2/"),o=n("djHu"),l=n("gfRm"),s=n.n(l),u=n("EmqN"),d=n("UWoi"),f=n("AcvJ"),b=n("RFde"),p=n("ihlU"),j=n("PNGk"),h=n("J8QT"),m=n("PYvS"),g=n("PKnz"),O=n("yn3j"),v=Object(O.cn)("CbirPanelUrlForm"),y=v(),C=v("Button"),w=v("Input"),k=s()(g),x=Object(c.compose)(f.a,b.a,p.a)(d.a),P=Object(c.compose)(h.a,m.a,o.a)(j.a),R=Object(a.forwardRef)((function(e,t){var n=e.value,r=e.invalid,c=e.onChange,o=e.onSubmit,l=Object(a.useRef)(null),s=Object(a.useCallback)((function(){var e;null===(e=l.current)||void 0===e||e.focus()}),[]),d=Object(a.useCallback)((function(){var e;null===(e=l.current)||void 0===e||e.blur()}),[]);Object(a.useImperativeHandle)(t,(function(){return{focus:s,blur:d}}),[s,d]);var f=Object(a.useCallback)((function(){c("")}),[c]),b=Object(a.useCallback)((function(e){e.preventDefault(),o()}),[o]),p=Object(a.useCallback)((function(e){c(e.currentTarget.value)}),[c]);return Object(i.jsxs)("form",{className:y,onSubmit:b,children:[Object(i.jsx)(P,{className:w,controlRef:l,hasClear:!0,onClearClick:f,size:"m",state:r?"error":void 0,value:n,placeholder:k("Введите адрес изображения"),view:"default",type:"text",inputMode:"url",onChange:p}),Object(i.jsx)(x,{type:"submit",className:C,disabled:r||""===Object(u.g)(n),size:"m",view:"default",width:"auto",children:k("Найти")})]})})),U=Object(r.c)({desktop:R},{file:"depot/components/CbirPanelUrlForm/index.ts"})},PKnz:function(e,t,n){"use strict";n.r(t),n.d(t,"be",(function(){return r})),n.d(t,"en",(function(){return i})),n.d(t,"id",(function(){return a})),n.d(t,"kk",(function(){return c})),n.d(t,"ru",(function(){return o})),n.d(t,"tr",(function(){return l})),n.d(t,"tt",(function(){return s})),n.d(t,"uk",(function(){return u})),n.d(t,"uz",(function(){return d}));var r={"Введите адрес изображения":"Увядзіце адрас выявы","Визуальный поиск":"Візуальны пошук","Выбрать файл":"Выбраць файл","Загрузите изображение, чтобы найти похожие картинки":"Загрузіце выяву, каб знайсці падобныя малюнкі","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Націсніце Cmd+V","Нажмите Ctrl+V":"Націсніце Ctrl+V","Найти":"Знайсці","Не сейчас":"Не зараз","Новый визуальный поиск":"Новый визуальный поиск","Перетащите изображение сюда":"Перацягніце выяву сюды","Перетащите картинку в область для загрузки":"Перацягнуць малюнак у вобласць для загрузкі","Понятно":"Зразумела","Попробовать":"Паспрабаваць","Попробуйте визуальный поиск":"Паспрабуйце візуальны пошук","Попробуйте визуальный поиск по изображению":"Паспрабуйце візуальны пошук па выяве","или нажмите на кнопку":"або націсніце на кнопку"},i={"Введите адрес изображения":"Enter image URL","Визуальный поиск":"Visual search","Выбрать файл":"Select file","Загрузите изображение, чтобы найти похожие картинки":"Upload an image to find similar images","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Press Cmd+V","Нажмите Ctrl+V":"Press Ctrl+V","Найти":"Search","Не сейчас":"Not now","Новый визуальный поиск":"Try visual search","Перетащите изображение сюда":"Drag an image here","Перетащите картинку в область для загрузки":"Drag an image to the upload area","Понятно":"Got it","Попробовать":"Try now","Попробуйте визуальный поиск":"Try visual search","Попробуйте визуальный поиск по изображению":"Try visual image search","или нажмите на кнопку":"or click the button"},a={"Введите адрес изображения":"Enter image URL","Визуальный поиск":"Visual search","Выбрать файл":"Select file","Загрузите изображение, чтобы найти похожие картинки":"Upload an image to find similar images","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Press Cmd+V","Нажмите Ctrl+V":"Press Ctrl+V","Найти":"Search","Не сейчас":"Not now","Новый визуальный поиск":"Try visual search","Перетащите изображение сюда":"Drag an image here","Перетащите картинку в область для загрузки":"Drag an image to the upload area","Понятно":"Got it","Попробовать":"Try now","Попробуйте визуальный поиск":"Try visual search","Попробуйте визуальный поиск по изображению":"Try visual image search","или нажмите на кнопку":"or click the button"},c={"Введите адрес изображения":"Сурет мекенжайын енгізіңіз","Визуальный поиск":"Көрнекі іздеу","Выбрать файл":"Файлды таңдау","Загрузите изображение, чтобы найти похожие картинки":"Ұқсас суреттерді табу үшін бейнесуретті жүктеңіз","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Cmd+V пернелерін басыңыз","Нажмите Ctrl+V":"Ctrl+V пернелерін басыңыз","Найти":"Табу","Не сейчас":"Қазір емес","Новый визуальный поиск":"Новый визуальный поиск","Перетащите изображение сюда":"Бейнесуретті осы жерге сүйреп алып келіңіз","Перетащите картинку в область для загрузки":"Суретті жүктеу аймағына апарыңыз","Понятно":"Түсінікті","Попробовать":"Байқап көру","Попробуйте визуальный поиск":"Көрнекі іздеуді қолданып көріңіз","Попробуйте визуальный поиск по изображению":"Сурет бойынша көрнекі іздеуді қолданып көріңіз","или нажмите на кнопку":"немесе батырмаға басыңыз"},o={"Введите адрес изображения":"Введите адрес изображения","Визуальный поиск":"Визуальный поиск","Выбрать файл":"Выбрать файл","Загрузите изображение, чтобы найти похожие картинки":"Загрузите изображение, чтобы найти похожие картинки","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Нажмите Cmd+V","Нажмите Ctrl+V":"Нажмите Ctrl+V","Найти":"Найти","Не сейчас":"Не сейчас","Новый визуальный поиск":"Новый визуальный поиск","Перетащите изображение сюда":"Перетащите изображение сюда","Перетащите картинку в область для загрузки":"Перетащите картинку в область для загрузки","Понятно":"Понятно","Попробовать":"Попробовать","Попробуйте визуальный поиск":"Попробуйте визуальный поиск","Попробуйте визуальный поиск по изображению":"Попробуйте визуальный поиск по изображению","или нажмите на кнопку":"или нажмите на кнопку"},l={"Введите адрес изображения":"Görsel adresini girin","Визуальный поиск":"Görsel arama","Выбрать файл":"Dosya seç","Загрузите изображение, чтобы найти похожие картинки":"Benzer görselleri bulmak için ilgili görseli yükleyin","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Cmd+V tuşlarına basın","Нажмите Ctrl+V":"Ctrl+V tuşlarına basın","Найти":"Bul","Не сейчас":"Şimdi değil","Новый визуальный поиск":"Try visual search","Перетащите изображение сюда":"Görseli buraya sürükleyin","Перетащите картинку в область для загрузки":"Yüklemek için resmi bu alana sürükleyin","Понятно":"Tamam","Попробовать":"Dene","Попробуйте визуальный поиск":"Görsel aramayı deneyin","Попробуйте визуальный поиск по изображению":"Görsele göre aramayı deneyin","или нажмите на кнопку":"veya ilgili butona tıklayın"},s={"Введите адрес изображения":"Введите адрес изображения","Визуальный поиск":"Визуальный поиск","Выбрать файл":"Выбрать файл","Загрузите изображение, чтобы найти похожие картинки":"Загрузите изображение, чтобы найти похожие картинки","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Нажмите Cmd+V","Нажмите Ctrl+V":"Нажмите Ctrl+V","Найти":"Найти","Не сейчас":"Не сейчас","Новый визуальный поиск":"Новый визуальный поиск","Перетащите изображение сюда":"Перетащите изображение сюда","Перетащите картинку в область для загрузки":"Перетащите картинку в область для загрузки","Понятно":"Понятно","Попробовать":"Попробовать","Попробуйте визуальный поиск":"Попробуйте визуальный поиск","Попробуйте визуальный поиск по изображению":"Попробуйте визуальный поиск по изображению","или нажмите на кнопку":"или нажмите на кнопку"},u={"Введите адрес изображения":"Введіть адресу зображення","Визуальный поиск":"Візуальний пошук","Выбрать файл":"Вибрати файл","Загрузите изображение, чтобы найти похожие картинки":"Завантажте зображення, щоб знайти схожі картинки","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Натисніть Cmd+V","Нажмите Ctrl+V":"Натисніть Ctrl+V","Найти":"Знайти","Не сейчас":"Не зараз","Новый визуальный поиск":"Новый визуальный поиск","Перетащите изображение сюда":"Перетягніть зображення сюди","Перетащите картинку в область для загрузки":"Перетягніть картинку в область для завантаження","Понятно":"Зрозуміло","Попробовать":"Спробувати","Попробуйте визуальный поиск":"Спробуйте візуальний пошук","Попробуйте визуальный поиск по изображению":"Спробуйте візуальний пошук по зображенню","или нажмите на кнопку":"або натисніть на кнопку"},d={"Введите адрес изображения":"Rasm manzilini kiriting","Визуальный поиск":"Vizual qidiruv","Выбрать файл":"Faylni tanlang","Загрузите изображение, чтобы найти похожие картинки":"Aloqador rasmlarni topish uchun suratni yuklang","Загрузите изображение, чтобы найти похожие товары":"Загрузите изображение, чтобы найти похожие товары","Нажмите Cmd+V":"Cmd + V ni bosing","Нажмите Ctrl+V":"Ctrl + V ni bosing","Найти":"Topish","Не сейчас":"Hozir emas","Новый визуальный поиск":"Новый визуальный поиск","Перетащите изображение сюда":"Rasmlarni bu yerga tashlang","Перетащите картинку в область для загрузки":"Suratni yuklash maydoniga tashlang","Понятно":"Tushunarli","Попробовать":"Sinash","Попробуйте визуальный поиск":"Vizual qidiruvni sinang","Попробуйте визуальный поиск по изображению":"Rasmga qarab vizual qidiruvni sinang","или нажмите на кнопку":"yoki tugmani bosing"}},Uytz:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("4Gwv"),i=n("oUqw"),a=n("zy2/"),c=n("9Dpe"),o=n("gy5M"),l=n("1iq3"),s=n("B1u8"),u=n("Eju5"),d=n("7KM1"),f=n("yn3j"),b=Object(f.cn)("CbirPanelPopup"),p=b(),j=b("Body"),h=Object(d.a)(Object(a.compose)(s.a,c.a,u.a)(l.a)),m=Object(r.c)({desktop:function(e){var t=e.children,n=e.scope,r=e.anchor,a=e.visible,c=e.onClose,l=e.innerRef,s=e.bodyRef;return Object(o.a)({enabled:a,scopeRef:l,autoFocus:!0,restoreFocus:!0,restoreFocusRef:r}),Object(i.jsx)(h,{className:p,innerRef:l,visible:a,hasTail:!0,tailSize:18,view:"default",target:"anchor",mainOffset:2,secondaryOffset:46,direction:"bottom-end",anchor:r,scope:n,onClose:c,children:Object(i.jsx)("div",{className:j,ref:s,children:t})})}},{file:"depot/components/CbirPanelPopup/index.ts"})},gXVL:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee}));var r={};n.r(r),n.d(r,"be",(function(){return O})),n.d(r,"en",(function(){return v})),n.d(r,"id",(function(){return y})),n.d(r,"kk",(function(){return C})),n.d(r,"ru",(function(){return w})),n.d(r,"tr",(function(){return k})),n.d(r,"tt",(function(){return x})),n.d(r,"uk",(function(){return P})),n.d(r,"uz",(function(){return R}));var i={};n.r(i),n.d(i,"be",(function(){return I})),n.d(i,"en",(function(){return V})),n.d(i,"id",(function(){return S})),n.d(i,"kk",(function(){return q})),n.d(i,"ru",(function(){return L})),n.d(i,"tr",(function(){return A})),n.d(i,"tt",(function(){return G})),n.d(i,"uk",(function(){return H})),n.d(i,"uz",(function(){return W}));var a=n("4Gwv"),c=n("oUqw"),o=n("gfRm"),l=n.n(o),s=n("PKnz"),u=n("WZys"),d=n("zy2/"),f=n("8VqI"),b=Object(d.createClassNameModifier)(Object(f.b)(),{type:"infoFilled24"}),p=Object(a.g)({desktop:b}),j=n("amzm"),h=n("p/+H"),m=n("yn3j"),g=Object(m.cn)("CbirPanelInfoLink")(),O={"О поиске по картинке":"О поиске по картинке"},v={"О поиске по картинке":"О поиске по картинке"},y={"О поиске по картинке":"О поиске по картинке"},C={"О поиске по картинке":"О поиске по картинке"},w={"О поиске по картинке":"О поиске по картинке"},k={"О поиске по картинке":"О поиске по картинке"},x={"О поиске по картинке":"О поиске по картинке"},P={"О поиске по картинке":"О поиске по картинке"},R={"О поиске по картинке":"О поиске по картинке"},U=l()(r),F=Object(h.a)(j.a),D=p(u.a),E=Object(a.c)({desktop:function(e){var t=e.url,n=e.onClick;return Object(c.jsx)(F,{className:g,href:t,target:"_blank",theme:"ghost","aria-label":U("О поиске по картинке"),onClick:n,children:Object(c.jsx)(D,{type:"infoFilled24",size:"m"})})}},{file:"depot/components/CbirPanelInfoLink/index.ts"}),M=n("cDcd"),N=n("UWoi"),z=n("XN7w"),T=n("q2WH"),B=Object(m.cn)("CbirPanelCloser")(),I={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},V={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},S={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},q={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},L={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},A={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},G={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},H={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},W={"Закрыть окно поиска по картинке":"Закрыть окно поиска по картинке"},Q=l()(i),_=Object(z.a)(N.a),K=Object(T.a)(u.a),Z=Object(a.c)({desktop:function(e){var t=e.onClick,n=Object(M.useCallback)((function(e){e.preventDefault(),t()}),[t]);return Object(c.jsx)(_,{className:B,role:"button",view:"clear","aria-label":Q("Закрыть окно поиска по картинке"),onClick:n,children:Object(c.jsx)(K,{type:"close16Black",size:"m"})})}},{file:"depot/components/CbirPanelCloser/index.ts"}),Y=Object(m.cn)("CbirPanelHead"),J=(Y(),Y("Text")),X=Y("Spacer"),$=l()(s),ee=Object(a.c)({desktop:function(e){var t=e.loading,n=e.infoUrl,r=e.onInfoClick,i=e.onCloserClick;return Object(c.jsxs)("div",{className:Y({loading:t}),children:[Object(c.jsx)("div",{className:J,children:$("Визуальный поиск")}),Object(c.jsx)(E,{url:n,onClick:r}),Object(c.jsx)("div",{className:X}),Object(c.jsx)(Z,{onClick:i})]})}},{file:"depot/components/CbirPanelHead/index.ts"})},hhBi:function(e,t,n){"use strict";var r=n("kKNf");n.d(t,"a",(function(){return r.a}))},pdOx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),i=n("9Qef"),a=function(e){var t=Object(r.useRef)(null),n=Object(i.a)(e);return Object(r.useEffect)((function(){t.current=n}),[n]),t}},rbcm:function(e,t,n){"use strict";n.r(t),n.d(t,"CbirPanelLoadable",(function(){return y}));var r=n("nimY"),i=n("nAbZ"),a=n("oUqw"),c=n("cDcd"),o=n("Ujsv"),l=n("9Qef"),s=n("pdOx"),u=n("XAEv"),d=n("Uytz"),f=n("Gb8c"),b=n("gXVL"),p=n("1AQT"),j=n("JkEl"),h=n("hhBi"),m=n("3IDl"),g=n("4fze"),O=n("7ezq"),v={findImgElement:!0,findElementWithBackgroundImage:!1},y=Object(r.d)({desktop:function(e){var t=e.label,n=e.infoUrl,r=e.isMacOS,y=Object(o.a)().width,C=Object(i.e)(Object(c.useState)(".HeaderDesktopActions-Cbir"),2),w=C[0],k=C[1],x=Object(s.a)(w),P=Object(l.a)(".HeaderDesktop"),R=Object(c.useRef)(null),U=Object(c.useRef)(null),F=Object(c.useRef)(null),D=Object(c.useRef)(null),E=Object(c.useRef)(null),M=Object(c.useRef)(null),N=Object(c.useRef)(null),z=Object(c.useCallback)((function(){var e;null===(e=window.Ya.reactBus)||void 0===e||e.emit("cbir:popup-opened")}),[]),T=Object(c.useCallback)((function(){var e;null===(e=window.Ya.reactBus)||void 0===e||e.emit("cbir:popup-closed")}),[]),B=Object(O.a)({platform:"desktop",cbird:181,label:t,infoUrl:n,globalDragEventsParams:v,isMacOS:r,onOpenPopup:z,onClosePopup:T,fileInputRef:U,buttonRef:R,popupRef:F,bodyRef:D,urlFormRef:E,dropAreaRef:M,fullscreenDropAreaRef:N}),I=B.fileInputProps,V=B.cbirPanelPopupProps,S=B.cbirPanelPreloaderProps,q=B.cbirPanelHeadProps,L=B.cbirPanelFileControlsProps,A=B.cbirPanelUrlFormProps,G=B.cbirPanelDropAreaProps,H=B.cbirPanelFullscreenDropProps,W=B.cbirPanelErrorNotifyProps,Q=B.togglePopup;return Object(c.useEffect)((function(){k(y<=1040?".HeaderDesktopActions-More":".HeaderDesktopActions-Cbir")}),[y]),Object(c.useEffect)((function(){var e;return null===(e=window.Ya.reactBus)||void 0===e||e.on("cbir:toggle-panel",Q),function(){var e;null===(e=window.Ya.reactBus)||void 0===e||e.off("cbir:toggle-panel",Q)}}),[Q]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d.a,Object(i.a)({},V,{anchor:x,scope:P,bodyRef:D,innerRef:F,children:Object(a.jsxs)("div",{className:"cbir-panel-main",children:[Object(a.jsx)(f.a,Object(i.a)({},S)),Object(a.jsx)(b.a,Object(i.a)({},q)),Object(a.jsx)(p.a,Object(i.a)({},L)),Object(a.jsx)(j.a,Object(i.a)({},A,{ref:E})),G?Object(a.jsx)(h.a,Object(i.a)({},G,{ref:M})):null,Object(a.jsx)(g.a,Object(i.a)({},W))]})})),Object(a.jsx)(m.a,Object(i.a)({},H,{dropAreaRef:N})),Object(a.jsx)(u.a,Object(i.a)({},I,{ref:U}))]})}},{file:"web4/src/components/CbirPanel/CbirPanel.components/CbirPanelLoadable/index.ts"})}}]);