(window.serpWebpackJsonp=window.serpWebpackJsonp||[]).push([["0b5216"],{"0UmB":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("4Gwv"),a=n("nAbZ"),o=n("oUqw"),c=n("cDcd"),u=n("faye"),i=n("A8cj"),l=n("arj1"),s=n("ld2a"),f=n("1SUg"),d=n("QgYa");n("PBAA");var b=n("B34V"),v=function(e){var t=e.children,n=e.className,r=e.autoFocus,a=void 0!==r&&r,u=e.scrollLocked,s=e.scrollTarget,f=e.ariaLabelledby,v=e.withAnimation,m=e.withFullscreen,O=void 0!==m&&m,j=e.allowTouchMove,p=e.onFullscreenClose,g=e.innerRef;Object(i.a)(g,O,{onClose:p});var D=Object(c.useMemo)((function(){return{reserveScrollBarGap:!0,allowTouchMove:j}}),[j]);return function(e,t,n){void 0===t&&(t=!0),Object(c.useEffect)((function(){var r=!1,a=e.current;if(a){var o,c=function(e){r&&(r=!1,Object(d.b)(e))};return t?(o=a,r||(r=!0,Object(d.a)(o,n))):c(a),function(){return c(a)}}}),[e,t,n])}(s||g,u,D),Object(l.a)((function(){var e;a&&(null===(e=g.current)||void 0===e||e.focus())})),Object(o.jsx)("div",{className:Object(b.b)({withAnimation:v},[n]),role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-labelledby":f,ref:g,children:t})},m=Object(r.c)({desktop:function(e){var t=e.opened,n=e.scope,r=e.withAnimation,i=e.innerRef,l=Object(a.f)(e,["opened","scope","withAnimation","innerRef"]),d=Object(s.a)(i),m=Object(a.e)(Object(c.useState)(document.body),2),O=m[0],j=m[1];return Object(c.useEffect)((function(){n&&j(n.current)}),[n]),O?Object(u.createPortal)(Object(o.jsx)(f.a,{classNames:b.a,in:t,timeout:r?200:0,mountOnEnter:!0,unmountOnExit:!0,nodeRef:d,children:function(e){return Object(o.jsx)(v,Object(a.a)({},l,{scrollLocked:"entered"===e,withAnimation:r,innerRef:d}))}}),O):null}},{file:"depot/components/CbirOverlay/index.ts"})},"0Wwz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));var r={findImgElement:!0,findElementWithBackgroundImage:!1},a=function(e,t){if(void 0===t&&(t=r),e.nodeType!==Node.ELEMENT_NODE)return null;if("IMG"===e.tagName&&!1!==t.findImgElement)return e;var n=e.querySelector("img[src]");if(n&&!1!==t.findImgElement)return n;var a=e.querySelector("[style*=background-image]");return a&&!1!==t.findElementWithBackgroundImage?a:null},o=function(e){var t=document.createElement("div");return t.innerHTML=e,a(t)},c=function(e){return"IMG"===e.tagName?e.getAttribute("src"):function(e){var t=getComputedStyle(e).backgroundImage.match(/url\("([^"]+)"\)/);return t?t[1]:null}(e)}},"1fsb":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=Array.prototype.slice,a=function(e){if(e.items){var t=r.call(e.items).find((function(e){return"file"===e.kind}));if(t)return t.getAsFile()}return e.files.length>0?e.files[0]:null},o=function(e,t){try{e.setData("text/uri-list",t),e.setData("text/plain",t)}catch(n){e.setData("URL",t),e.setData("Text",t)}}},B34V:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("yn3j"),a=Object(r.cn)("CbirOverlay"),o=a()},DhPe:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("PBAA");var r=/^(?:http|https|ftp):\/\//,a=function(e,t){if(void 0===t&&(t="http:"),r.test(e))return e;var n=location.protocol;return 0===e.indexOf("//")?n+e:"".concat(n,"//").concat(e)}},JExj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("zy2/"),a=n("B34V"),o=Object(r.withBemMod)(a.a,{paranja:"translucent"})},Wq4b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cDcd"),a=function(e){var t=e.ref,n=e.enabled,a=e.fullscreen,o=e.registerCb,c=e.unRegisterCb,u=t.current;Object(r.useEffect)((function(){if(n&&u)return null==o||o(u,a),function(){null==c||c(u)}}),[t,n,a,o,c,u])}},XAEv:function(e,t,n){"use strict";var r=n("Ugmm");n.d(t,"a",(function(){return r.a}))},Yc9p:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("nAbZ"),a=n("cDcd"),o=n("ITyr"),c=n("DhPe"),u=n("0Wwz"),i=n("1fsb"),l=function(e,t,n){var l=Object(a.useRef)(!1),s=Object(a.useRef)(!1),f=Object(a.useRef)(!1),d=Object(a.useRef)(),b=Object(a.useRef)(!1),v=Object(r.e)(Object(o.a)(),2),m=v[0],O=v[1],j=O.add,p=O.remove,g=Object(r.e)(Object(o.a)(),2),D=g[0],y=g[1],h=y.add,E=y.remove,F=Object(a.useCallback)((function(e,t){j(e),t&&h(e)}),[j,h]),A=Object(a.useCallback)((function(e){p(e),E(e)}),[p,E]),k=Object(a.useCallback)((function(){clearTimeout(d.current),d.current=void 0}),[]),V=Object(a.useCallback)((function(t){s.current||(k(),s.current=!0,f.current=t,requestAnimationFrame((function(){b.current&&e(t)})))}),[k,e]),T=Object(a.useCallback)((function(){if(s.current){k();var e=f.current;s.current=!1,f.current=!1,d.current=setTimeout(t,50,e),b.current=!1}}),[k,t]);return Object(a.useEffect)((function(){return m.forEach((function(e){e.addEventListener("drop",T)})),function(){m.forEach((function(e){e.removeEventListener("drop",T)}))}}),[m,T]),Object(a.useEffect)((function(){return D.forEach((function(e){e.addEventListener("dragleave",T)})),function(){D.forEach((function(e){e.removeEventListener("dragleave",T)}))}}),[D,T]),Object(a.useEffect)((function(){var e=function(e){l.current=!0;var t=e.dataTransfer;if(e.target&&t){var r=Object(u.c)(e.target,n);if(r){b.current=!0,r!==e.target&&"function"==typeof t.setDragImage&&t.setDragImage(r,0,0);var a=Object(u.b)(r);a&&Object(i.b)(t,Object(c.a)(a))}}V(!1)},t=function(e){var t=e.dataTransfer;if(l.current){if(e.target&&t){var r=Object(u.c)(e.target,n);b.current=Boolean(r)}}else b.current=!0;V(!0)},r=function(){T(),b.current=!1,l.current=!1};return document.addEventListener("dragstart",e),document.addEventListener("dragover",t),document.addEventListener("dragend",r),function(){document.removeEventListener("dragstart",e),document.removeEventListener("dragover",t),document.removeEventListener("dragend",r)}}),[V,T,n]),[F,A]}},kKNf:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("4Gwv"),a=n("oUqw"),o=n("cDcd"),c=n("mdrh"),u=n("nAbZ"),i=n("d8zN"),l=n("yn3j"),s=Object(l.cn)("DropArea"),f=Object(o.forwardRef)((function(e,t){var n=e.className,r=e.style,c=e.onFiles,l=e.onHtml,f=e.onText,d=e.onUrl,b=e.onClick,v=e.onDragOver,m=e.onDragEnter,O=e.onDragLeave,j=e.onDrop,p=Object(u.e)(function(e){var t=void 0===e?{}:e,n=t.onFiles,r=t.onHtml,a=t.onText,c=t.onUrl,l=t.onDragOver,s=t.onDragEnter,f=t.onDragLeave,d=t.onDrop,b=Object(i.a)(),v=Object(u.e)(Object(o.useState)(!1),2),m=v[0],O=v[1],j=Object(o.useMemo)((function(){return function(e,t){var n=e.onFiles,r=e.onHtml,a=e.onText,o=e.onUrl;return function(e,c){var u="",i="";try{i=e.getData("text/uri-list")}catch(f){u=e.getData("URL")&&e.getData("Text")}if(i||u)null==o||o(i||u,c);else if(e.files&&e.files.length>0)null==n||n(e.files,c);else{try{var l=e.getData("text/html");if(l)return void(null==r||r(l,c))}catch(f){}if(e.items&&e.items.length>0)e.items[0].getAsString((function(e){t()&&e&&(null==a||a(e,c))}));else{var s=e.getData("Text");s&&(null==a||a(s,c))}}}}({onFiles:n,onHtml:r,onText:a,onUrl:c},b)}),[b,n,r,a,c]);return[Object(o.useMemo)((function(){return{onDragOver:function(e){e.preventDefault(),null==l||l(e)},onDragEnter:function(e){e.preventDefault(),null==s||s(e),O(!0)},onDragLeave:function(e){null==f||f(e),O(!1)},onDrop:function(e){e.preventDefault(),e.persist(),O(!1),null==d||d(e),j(e.dataTransfer,e)}}}),[j,O,l,s,f,d]),{over:m}]}({onFiles:c,onUrl:d,onHtml:l,onText:f,onDragOver:v,onDragEnter:m,onDragLeave:O,onDrop:j}),2),g=p[0],D=p[1];return Object(a.jsx)("div",Object(u.a)({className:s({active:D.over},[n]),style:r,onClick:b,ref:t},g))})),d=Object(r.c)({desktop:f},{file:"depot/components/DropArea/index.ts"}),b=Object(l.cn)("ImageDropArea"),v=n("0Wwz"),m=Object(o.forwardRef)((function(e,t){var n,r=e.className,u=e.style,i=e.onFile,l=void 0===i?c.a:i,s=e.onUrl,f=void 0===s?c.a:s,m=e.onClick,O=e.onDragOver,j=e.onDragEnter,p=e.onDragLeave,g=e.onDrop,D=(n=l,Object(o.useCallback)((function(e){e.length>0&&n(e[0])}),[n])),y=function(e){return Object(o.useCallback)((function(t){t&&e(t)}),[e])}(f),h=function(e){return Object(o.useCallback)((function(t){var n=Object(v.a)(t);if(n){var r=Object(v.b)(n);r&&e(r)}}),[e])}(f);return Object(a.jsx)(d,{className:b(null,[r]),style:u,onFiles:D,onHtml:h,onUrl:y,onDragOver:O,onDragEnter:j,onDragLeave:p,onDrop:g,onClick:m,ref:t})})),O=Object(r.c)({desktop:m},{file:"depot/components/ImageDropArea/index.ts"}),j=Object(l.cn)("CbirPanelDropArea"),p=Object(o.forwardRef)((function(e,t){var n=e.className,r=e.onDropFile,o=e.onDropUrl,c=e.onDragOver,u=e.onDragEnter,i=e.onDragLeave,l=e.onDrop,s=e.onClick;return Object(a.jsx)(O,{ref:t,className:j(null,[n]),onFile:r,onUrl:o,onDragOver:c,onDragEnter:u,onDragLeave:i,onDrop:l,onClick:s})})),g=Object(r.c)({desktop:p},{file:"depot/components/CbirPanelDropArea/index.ts"})},m2ke:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("nAbZ"),a=n("cDcd"),o=function(e,t){switch(t.type){case"popup-show":return function(e){return e.popupVisible?e:Object(r.a)(Object(r.a)({},e),{popupVisible:!0})}(e);case"popup-hide":return function(e,t){var n;return e.popupVisible?Object(r.a)(Object(r.a)({},e),{popupVisible:!1,loading:!1,loadingFile:!1,notifyVisible:!1,urlFormValue:"",urlFormInvalid:!1,multimodalData:void 0,multimodalQueryValue:(null===(n=t.options)||void 0===n?void 0:n.saveMultimodalQuery)?e.multimodalQueryValue:""}):e}(e,t);case"notify-show":return function(e,t){return Object(r.a)(Object(r.a)({},e),{notifyVisible:!0,notifyType:t.payload.notifyType})}(e,t);case"notify-hide":return function(e){return Object(r.a)(Object(r.a)({},e),{notifyVisible:!1})}(e);case"search-by-image-start":return function(e,t){return Object(r.a)(Object(r.a)({},e),{loading:!0,loadingFile:"file"===t.payload.searchType,notifyVisible:!1,urlFormInvalid:!1,urlFormValue:"url"===t.payload.searchType?t.payload.url:"",multimodalData:void 0})}(e,t);case"search-by-image-error":return function(e,t){var n=Object(r.a)(Object(r.a)({},e),{loading:!1,loadingFile:!1,notifyVisible:!0});return"file"===t.payload.searchType?(n.notifyType="format",n.urlFormValue="",n.urlFormInvalid=!1):(n.notifyType="url",n.urlFormValue=t.payload.url,n.urlFormInvalid=!0),n}(e,t);case"url-form-change":return function(e,t){return Object(r.a)(Object(r.a)({},e),{urlFormValue:t.payload.value,urlFormInvalid:!1,notifyVisible:!1})}(e,t);case"fullscreen-drop-show":return function(e){return Object(r.a)(Object(r.a)({},e),{fullscreenDropVisible:!0})}(e);case"fullscreen-drop-hide":return function(e){return Object(r.a)(Object(r.a)({},e),{fullscreenDropVisible:!1})}(e);case"global-drag-start":return function(e){return Object(r.a)(Object(r.a)({},e),{dragging:!0})}(e);case"global-drag-end":return function(e){return Object(r.a)(Object(r.a)({},e),{dragging:!1,dropAreaOver:!1})}(e);case"drop-area-enter":return function(e){return Object(r.a)(Object(r.a)({},e),{dropAreaOver:!0})}(e);case"drop-area-leave":return function(e){return Object(r.a)(Object(r.a)({},e),{dropAreaOver:!1})}(e);case"multimodal-reset":return function(e){return Object(r.a)(Object(r.a)({},e),{urlFormValue:"",multimodalData:void 0})}(e);case"multimodal-load":return function(e,t){return Object(r.a)(Object(r.a)({},e),{multimodalData:t,urlFormValue:"",loading:!1,loadingFile:!1})}(e,t.payload);case"multimodal-query-change":return function(e,t){return Object(r.a)(Object(r.a)({},e),{multimodalQueryValue:t.payload.value})}(e,t)}},c={popupVisible:!1,loading:!1,loadingFile:!1,notifyVisible:!1,notifyType:"format",urlFormValue:"",urlFormInvalid:!1,fullscreenDropVisible:!1,dragging:!1,dropAreaOver:!1},u=function(){return Object(a.useReducer)(o,c)}}}]);